<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Build My Grid - DEMO</title>
	<link href="css/demo-5.css" rel="stylesheet">
</head>
<body>
	<h4>Demo 1 - Default</h4>
	<div id="demo_1">
		
	</div>
	
	<h4>Demo 2 - Random with max x/y with of 2 columns</h4>
	<div id="demo_2">
		
	</div>
	
	<h4>Demo 3 - Set pattern</h4>
	<div id="demo_3">
		
	</div>
	
	<h4>Demo 4 - Delay grid build</h4>
	<div id="demo_4">
		
	</div>
	
	<h4>Demo 5 - Building on top of the library</h4>
	<div id="demo_5">
		
	</div>
	
	<script src="js/build-my-grid.js" type="text/javascript"></script>
	<script type="text/javascript">
		/* Basic library usage */
		
		// Basic default settings
		var demo1 = new BMGrid({target: '#demo_1', rows: 6, columns: 6, basic_css: true}).init();
		
		// Random grid 
		var demo2 = new BMGrid({target: '#demo_2', rows: 6, columns: 6, block_max_x: 2, block_max_y: 2, basic_css: true}).init();
		
		// Set pattern
		var demo3 = new BMGrid({target: '#demo_3', rows: 6, columns: 6, block_max_x: 2, block_max_y: 2, grid_pattern: ['1,1', '1,2', '2,1', '1,1', '1,1', '1,1', '2,1', '1,1', '1,1'], basic_css: true}).init();
		
		// Delay grid block build
		var demo4 = new BMGrid({target: '#demo_4', rows: 6, columns: 6, block_max_x: 2, block_max_y: 2, block_delay: 100, basic_css: true}).init();
		
		
		/* Example of building on top of the library */
		function inactivate(elem){
			elem.classList.remove('active');
		}
		
		function muteElem(elem){
			elem.classList.add('muted');
		}
		
		function unmuteElem(elem){
			elem.classList.remove('muted');
		}	
		
		function addActive(e){
			document.querySelectorAll('.bm-grid-block.active').forEach(inactivate);
			e.target.classList.add('active');
			document.querySelectorAll('.bm-grid-block:not(.active)').forEach(muteElem);
		}
		
		function removeActive(e){
			setTimeout(function(){e.target.classList.remove('active');}, 500);
			document.querySelectorAll('.bm-grid-block').forEach(unmuteElem);
		}
		
		// Demo 5
		var demo5 = new BMGrid({target: '#demo_5', rows: 6, columns: 6, block_max_x: 2, block_max_y: 2, basic_css: true}).init();
		
		var counter = 1;
		document.querySelectorAll('#demo_5 div.bm-grid-block').forEach(function(elem){
			elem.setAttribute('data-name', 'Block ' + counter);
			elem.addEventListener('mouseenter', addActive);
			elem.addEventListener('mouseleave', removeActive);
			counter += 1;
		});
	</script>
</body>
</html>